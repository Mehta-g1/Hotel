{% extends "billing/base1.html" %}


{% load static %}

{% block title %} {{title}} {% endblock %}


{% block content %}



  
  <button class="toggle-btn" onclick="toggleSidebar()">â˜°</button>
<div class="sidebar" id="sidebar">
    <h2>Welcome Vikash  </h2> <hr>
    <ul>
      <li><i class="fa fa-home"></i> Dashboard</li>
      <li><i class="fa fa-clipboard"></i> Orders</li>
      <li><i class="fa fa-pizza-slice"></i> Dishes</li>
      <li><i class="fa fa-users"></i> Customers</li>
      <li><i class="fa fa-credit-card"></i> Billing</li>
      <li><i class="fa fa-box"></i> Inventory</li>
      <li><i class="fa fa-chart-bar"></i> Reports</li>
      <li><i class="fa fa-cog"></i> Settings</li>
      <li><i class="fa fa-question-circle"></i> Help</li>
    </ul>
    <ul class="logout">
      <li><i class="fa fa-sign-out-alt"></i> Logout</li>
    </ul>
  </div>

    <div class="main-container">
    <header>
      
      <header class="page-title">Dishes Management</header>
      <div class="header-actions">
        <form class="search-form" method="GET">
          <input type="text" name="search" id="searchInput" placeholder="Search dishes..." class="search-input">
          <a href="# " class="search-btn btn btn-primary">Search</a>
        </form>
      </div>
    </header>

    <div class="content">
      <div class="filters-section">
        <form class="filter-form" method="POST" action="/billing/dishes/">
          {% csrf_token %}
          <div class="filter-group">
            <label for="categoryFilter">Category:</label>
            <select id="categoryFilter" name="category">
              {% for ct in  data.categories %}
              <option value="{{ct.id}}">{{ct.category}}</option>
              {% endfor %}
            </select>
          </div>


          {% comment %} <div class="filter-group">
            <label for="availabilityFilter">Availability:</label>
            <select id="availabilityFilter" name="availability">
              <option value="">All</option>
              <option value="available">Available</option>
              <option value="unavailable">Unavailable</option>
            </select>
          </div> {% endcomment %}

          <button type="submit" class="filter-btn">Apply Filters</button>
        </form>
      </div>

      <div class="dishes-section">
        <div class="section-header">
          <h2 id="dishCount">{{length}} Dishes</h2>

        </div>

        <div class="dishes-grid" id="dishesGrid">
          {% for dish in data.dishes %}
          <div class="dish-card">
            {% comment %} <img src="{{ dish.image.url }}" alt="{{ dish.name }}" class="dish-image" loading="lazy"> {% endcomment %}

            {% if dish.image %}
                <img src="{{ dish.image.url }}" alt="{{ dish.name }}" class="dish-image" loading="lazy">
            {% else %}
                <img src="{% static 'Images/default.png' %}" alt="No Image" class="dish-image" loading="lazy">
            {% endif %}



            <div class="dish-info">
              <div class="dish-header">
                <h3 class="dish-name">{{dish.name}} -{{dish.category}}</h3>

              </div>
              <div class="dish-id">ID: {{dish.id}}</div>
              <p class="dish-recipe"> {{dish.receipe}}</p>
              <div class="dish-price">{{dish.price}}</div>
            </div>
          </div>
          {% endfor %}


        </div>
      </div>
    </div>
  </div>


{% endblock %}
